{{/* Anemone v2 - Sync security settings page */}}
{{define "content"}}
<!-- Success/Error Messages -->
{{if .Success}}
<div class="v2-card" style="border-left:3px solid var(--success);margin-bottom:1rem;">
    <div style="font-size:0.875rem;color:var(--success);">{{.Success}}</div>
</div>
{{end}}
{{if .Error}}
<div class="v2-card" style="border-left:3px solid var(--error);margin-bottom:1rem;">
    <div style="font-size:0.875rem;color:var(--error);">{{.Error}}</div>
</div>
{{end}}

<!-- Password Status -->
<div class="v2-card" style="margin-bottom:1rem;">
    {{if .IsConfigured}}
    <div style="display:flex;align-items:center;gap:0.75rem;margin-bottom:0.75rem;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2">
            <path d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"/>
        </svg>
        <span style="font-size:0.875rem;font-weight:600;color:var(--success);">{{T .Lang "admin.settings.password_configured"}}</span>
    </div>
    <div style="font-size:0.8125rem;color:var(--text-secondary);">{{T .Lang "admin.settings.password_configured_help"}}</div>
    {{else}}
    <div style="display:flex;align-items:center;gap:0.75rem;margin-bottom:0.75rem;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2">
            <path d="M12 9v2m0 4h.01M5.07 19h13.86c1.54 0 2.5-1.67 1.73-3L13.73 4c-.77-1.33-2.69-1.33-3.46 0L3.34 16c-.77 1.33.19 3 1.73 3z"/>
        </svg>
        <span style="font-size:0.875rem;font-weight:600;color:var(--warning);">{{T .Lang "admin.settings.no_password"}}</span>
    </div>
    <div style="font-size:0.8125rem;color:var(--text-secondary);">{{T .Lang "admin.settings.no_password_warning"}}</div>
    {{end}}
</div>

<!-- Password Form -->
<div class="v2-card">
    <div style="font-size:0.9375rem;font-weight:600;color:var(--text-primary);margin-bottom:1rem;">
        {{T .Lang "admin.settings.sync_password"}}
    </div>
    <form method="POST" action="/admin/settings/sync-password">
        <div style="margin-bottom:1rem;">
            <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                {{if .IsConfigured}}{{T .Lang "admin.settings.new_password"}}{{else}}{{T .Lang "admin.settings.password"}}{{end}}
            </label>
            <input type="password" name="password" required minlength="8"
                   style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;"
                   placeholder="{{T .Lang "admin.settings.password_placeholder"}}">
            <div style="font-size:0.75rem;color:var(--text-muted);margin-top:0.25rem;">{{T .Lang "admin.settings.password_help"}}</div>
        </div>
        <div style="margin-bottom:1.5rem;">
            <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                {{T .Lang "admin.settings.confirm_password"}}
            </label>
            <input type="password" name="password_confirm" required minlength="8"
                   style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;"
                   placeholder="{{T .Lang "admin.settings.confirm_placeholder"}}">
        </div>
        <div style="display:flex;justify-content:flex-end;gap:0.5rem;">
            <button type="submit" class="v2-btn v2-btn-primary">
                {{if .IsConfigured}}{{T .Lang "admin.settings.change_password"}}{{else}}{{T .Lang "admin.settings.configure_password"}}{{end}}
            </button>
        </div>
    </form>
</div>

<!-- Info Box -->
<div class="v2-card" style="margin-top:1rem;border-left:3px solid var(--info);">
    <div style="font-size:0.875rem;font-weight:600;color:var(--text-primary);margin-bottom:0.5rem;">{{T .Lang "admin.settings.how_it_works"}}</div>
    <div style="font-size:0.8125rem;color:var(--text-secondary);line-height:1.6;">
        <div>{{T .Lang "admin.settings.info_1"}}</div>
        <div>{{T .Lang "admin.settings.info_2"}}</div>
        <div>{{T .Lang "admin.settings.info_3"}}</div>
        <div>{{T .Lang "admin.settings.info_4"}}</div>
    </div>
</div>
{{end}}
