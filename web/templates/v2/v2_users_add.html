{{/* Anemone v2 - Add user form */}}
{{define "content"}}
<!-- Back link -->
<div style="margin-bottom:1.5rem;">
    <a href="/admin/users" style="font-size:0.8125rem;color:var(--info);text-decoration:none;display:inline-flex;align-items:center;gap:0.25rem;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 19l-7-7 7-7"/></svg>
        {{T .Lang "common.back"}}
    </a>
</div>

{{if .Error}}
<div class="v2-card" style="border-left:3px solid var(--error);margin-bottom:1rem;">
    <div style="font-size:0.875rem;color:var(--error);">{{.Error}}</div>
</div>
{{end}}

<div class="v2-card">
    <form method="POST" action="/admin/users/add">
        <!-- Username -->
        <div style="margin-bottom:1rem;">
            <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                {{T .Lang "users.username"}} *
            </label>
            <input type="text" name="username" required
                   style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;"
                   placeholder="john.doe">
        </div>

        <!-- Email -->
        <div style="margin-bottom:1rem;">
            <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                {{T .Lang "users.email"}}
            </label>
            <input type="email" name="email"
                   style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;"
                   placeholder="john.doe@example.com">
        </div>

        <!-- Role -->
        <div style="margin-bottom:1rem;">
            <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                {{T .Lang "users.role"}}
            </label>
            <div style="display:flex;gap:1.5rem;padding:0.25rem 0;">
                <label style="display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:var(--text-primary);cursor:pointer;">
                    <input type="radio" name="is_admin" value="false" checked> {{T .Lang "users.role.user"}}
                </label>
                <label style="display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:var(--text-primary);cursor:pointer;">
                    <input type="radio" name="is_admin" value="true"> {{T .Lang "users.role.admin"}}
                </label>
            </div>
        </div>

        <!-- Quotas -->
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem;">
            <div>
                <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                    {{T .Lang "users.quota_backup"}}
                </label>
                <input type="number" name="quota_backup" value="50" min="0"
                       style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;">
                <div style="font-size:0.75rem;color:var(--text-muted);margin-top:0.25rem;">{{T .Lang "users.quota_unlimited_help"}}</div>
            </div>
            <div>
                <label style="display:block;font-size:0.8125rem;font-weight:500;color:var(--text-secondary);margin-bottom:0.375rem;">
                    {{T .Lang "users.quota_data"}}
                </label>
                <input type="number" name="quota_data" value="50" min="0"
                       style="width:100%;padding:0.5rem 0.75rem;border:1px solid var(--border);border-radius:0.5rem;background:var(--bg-page);color:var(--text-primary);font-size:0.875rem;">
                <div style="font-size:0.75rem;color:var(--text-muted);margin-top:0.25rem;">{{T .Lang "users.quota_unlimited_help"}}</div>
            </div>
        </div>

        <!-- Info Box -->
        <div class="v2-card" style="border-left:3px solid var(--info);margin-bottom:1.5rem;background:var(--bg-page);">
            <div style="font-size:0.8125rem;color:var(--text-secondary);">
                {{T .Lang "users.add.activation_info"}}
            </div>
        </div>

        <!-- Buttons -->
        <div style="display:flex;justify-content:flex-end;gap:0.5rem;">
            <a href="/admin/users" class="v2-btn" style="text-decoration:none;">{{T .Lang "common.cancel"}}</a>
            <button type="submit" class="v2-btn v2-btn-primary">{{T .Lang "users.add"}}</button>
        </div>
    </form>
</div>
{{end}}
