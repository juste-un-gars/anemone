// Anemone - Multi-user NAS with P2P encrypted synchronization
// Copyright (C) 2025 juste-un-gars
// Licensed under the GNU Affero General Public License v3.0

package i18n

import (
	"sync"
)

// Translator handles internationalization
type Translator struct {
	translations map[string]map[string]string
	defaultLang  string
	mu           sync.RWMutex
}

var defaultTranslator *Translator
var once sync.Once

// Init initializes the default translator
func Init(defaultLang string) error {
	var err error
	once.Do(func() {
		defaultTranslator = &Translator{
			translations: make(map[string]map[string]string),
			defaultLang:  defaultLang,
		}
		err = defaultTranslator.loadTranslations()
	})
	return err
}

// T translates a key using the default translator
func T(lang, key string) string {
	if defaultTranslator == nil {
		return key
	}
	return defaultTranslator.Translate(lang, key)
}

// Translate returns the translation for a key in the specified language
func (t *Translator) Translate(lang, key string) string {
	t.mu.RLock()
	defer t.mu.RUnlock()

	if translations, ok := t.translations[lang]; ok {
		if translation, ok := translations[key]; ok {
			return translation
		}
	}

	// Fallback to default language
	if lang != t.defaultLang {
		if translations, ok := t.translations[t.defaultLang]; ok {
			if translation, ok := translations[key]; ok {
				return translation
			}
		}
	}

	// Return key if no translation found
	return key
}

// loadTranslations loads translation files from web/locales directory
func (t *Translator) loadTranslations() error {
	// For now, we'll embed translations directly
	// In production, these would be loaded from JSON files

	t.translations["fr"] = map[string]string{
		// Setup page
		"setup.title":              "Configuration initiale d'Anemone",
		"setup.welcome":            "Bienvenue sur Anemone",
		"setup.description":        "Configurons votre NAS multi-utilisateurs avec synchronisation P2P chiffr√©e",
		"setup.language":           "Langue",
		"setup.language.fr":        "Fran√ßais",
		"setup.language.en":        "English",
		"setup.nas_name":           "Nom du NAS",
		"setup.nas_name.help":      "Un nom pour identifier ce serveur (ex: nas-maison)",
		"setup.timezone":           "Fuseau horaire",
		"setup.timezone.help":      "Utilis√© pour les logs et la planification",
		"setup.admin.title":        "Cr√©er le compte administrateur",
		"setup.admin.username":     "Nom d'utilisateur",
		"setup.admin.password":     "Mot de passe",
		"setup.admin.password.help": "Minimum 8 caract√®res",
		"setup.admin.password_confirm": "Confirmer le mot de passe",
		"setup.admin.email":        "Email (optionnel)",
		"setup.admin.email.help":   "Pour les notifications (optionnel)",
		"setup.button":             "Cr√©er et d√©marrer",
		"setup.button.submit":      "Cr√©er et d√©marrer",
		"setup.info":               "Cette configuration ne sera effectu√©e qu'une seule fois. Assurez-vous de bien sauvegarder vos informations.",
		"setup.errors.required":    "Ce champ est requis",
		"setup.errors.password_mismatch": "Les mots de passe ne correspondent pas",
		"setup.errors.password_length": "Le mot de passe doit contenir au moins 8 caract√®res",
		"setup.success.title":      "Configuration termin√©e !",
		"setup.success.key":        "Votre cl√© de chiffrement",
		"setup.success.key_warning": "‚ö†Ô∏è Attention : Cette cl√© ne sera affich√©e qu'une seule fois !",
		"setup.success.key_help":   "Sauvegardez cette cl√© dans un endroit s√ªr. Elle est n√©cessaire pour d√©chiffrer vos sauvegardes.",
		"setup.success.download":   "T√©l√©charger la cl√©",
		"setup.success.sync_password": "Mot de passe de synchronisation P2P",
		"setup.success.sync_password_help": "Ce mot de passe est utilis√© pour authentifier les pairs lors de la synchronisation. Copiez-le pour l'utiliser sur vos autres serveurs Anemone.",
		"setup.success.sync_password_change": "üí° Important : Vous devez changer ce mot de passe dans Param√®tres > Synchronisation d√®s que possible.",
		"setup.success.checkbox1":  "J'ai sauvegard√© ma cl√© de chiffrement",
		"setup.success.checkbox2":  "Je comprends que je ne peux pas r√©cup√©rer mes donn√©es sans cette cl√©",
		"setup.success.button":     "Acc√©der au tableau de bord",

		// Login page
		"login.title":              "Connexion √† Anemone",
		"login.welcome":            "Bienvenue",
		"login.username":           "Nom d'utilisateur",
		"login.password":           "Mot de passe",
		"login.button":             "Se connecter",
		"login.error":              "Nom d'utilisateur ou mot de passe incorrect",

		// Dashboard
		"dashboard.title":          "Tableau de bord",
		"dashboard.welcome":        "Bienvenue, {{username}} !",
		"dashboard.admin.title":    "Tableau de bord administrateur",
		"dashboard.user.title":     "Tableau de bord utilisateur",
		"dashboard.logout":         "Se d√©connecter",
		"dashboard.users":          "Utilisateurs",
		"dashboard.peers":          "Pairs connect√©s",
		"dashboard.storage":        "Stockage",
		"dashboard.backup":         "Sauvegardes",
		"dashboard.settings":       "Param√®tres",
		"dashboard.stats.users":    "Utilisateurs",
		"dashboard.stats.storage":  "Stockage utilis√©",
		"dashboard.stats.backups":  "Derni√®re sauvegarde",
		"dashboard.stats.peers":    "Pairs actifs",
		"dashboard.support":        "Supporter le projet",
		"dashboard.welcome_admin":  "Bienvenue",
		"dashboard.users.description": "G√©rer les utilisateurs et cr√©er des comptes",
		"dashboard.shares.description": "G√©rer vos partages SMB/NFS",
		"dashboard.shares.button":  "Voir tous les partages",
		"dashboard.peers.description": "G√©rer les pairs pour la sauvegarde",
		"dashboard.peers.button":   "G√©rer les pairs",
		"dashboard.incoming.title": "Pairs connect√©s",
		"dashboard.incoming.description": "Voir les serveurs distants qui stockent des backups sur ce serveur",
		"dashboard.incoming.button": "Voir les backups entrants",
		"dashboard.server_settings.title": "Param√®tres serveur",
		"dashboard.server_settings.description": "Configurer le mot de passe de synchronisation du serveur",
		"dashboard.server_settings.button": "Param√®tres",
		"dashboard.server_backup.title": "Sauvegarde serveur",
		"dashboard.server_backup.description": "G√©rer les sauvegardes automatiques du serveur (backup quotidien √† 4h)",
		"dashboard.server_backup.button": "G√©rer les sauvegardes",

		// Users management
		"users.title":              "Gestion des utilisateurs",
		"users.add":                "Ajouter un utilisateur",
		"users.add.title":          "Cr√©er un nouvel utilisateur",
		"users.list":               "Liste des utilisateurs",
		"users.username":           "Nom d'utilisateur",
		"users.email":              "Email",
		"users.role":               "R√¥le",
		"users.role.admin":         "Administrateur",
		"users.role.user":          "Utilisateur",
		"users.created":            "Cr√©√© le",
		"users.last_login":         "Derni√®re connexion",
		"users.status":             "Statut",
		"users.status.active":      "Actif",
		"users.status.pending":     "En attente",
		"users.actions":            "Actions",
		"users.action.delete":      "Supprimer",
		"users.action.copy_link":   "Copier le lien",
		"users.quota_total":        "Quota total (GB)",
		"users.quota_backup":       "Quota sauvegarde (GB)",
		"users.quota_data":         "Quota donn√©es (GB)",
		"users.is_admin":           "Administrateur",
		"users.quota.title":        "Modifier les quotas",
		"users.quota.edit":         "Modifier quotas",
		"users.quota.usage":        "Utilisation actuelle",
		"users.quota.used":         "Utilis√©",
		"users.quota.available":    "Disponible",
		"users.quota.update":       "Mettre √† jour",
		"users.quota.success":      "Quotas mis √† jour avec succ√®s",
		"users.token.title":        "Lien d'activation cr√©√©",
		"users.token.info":         "Envoyez ce lien au nouvel utilisateur",
		"users.token.warning":      "‚ö†Ô∏è Ce lien expire dans 24 heures",
		"users.token.copy":         "Copier le lien",
		"users.token.done":         "Termin√©",
		"users.delete.confirm":     "√ätes-vous s√ªr de vouloir supprimer cet utilisateur ?",
		"users.errors.username_required": "Le nom d'utilisateur est requis",
		"users.errors.username_exists": "Ce nom d'utilisateur existe d√©j√†",

		// Activation page
		"activate.title":           "Activer votre compte Anemone",
		"activate.welcome":         "Bienvenue sur Anemone",
		"activate.username":        "Nom d'utilisateur",
		"activate.set_password":    "Choisissez votre mot de passe",
		"activate.password":        "Mot de passe",
		"activate.password_confirm": "Confirmer le mot de passe",
		"activate.password.help":   "Minimum 8 caract√®res",
		"activate.button":          "Activer mon compte",
		"activate.errors.invalid_token": "Ce lien d'activation est invalide ou a expir√©",
		"activate.errors.token_used": "Ce lien d'activation a d√©j√† √©t√© utilis√©",
		"activate.errors.password_mismatch": "Les mots de passe ne correspondent pas",
		"activate.errors.password_length": "Le mot de passe doit contenir au moins 8 caract√®res",
		"activate.success.title":   "Compte activ√© avec succ√®s !",
		"activate.success.key":     "Votre cl√© de chiffrement",
		"activate.success.key_warning": "‚ö†Ô∏è IMPORTANT : Cette cl√© ne sera affich√©e qu'une seule fois !",
		"activate.success.key_help": "Cette cl√© est n√©cessaire pour d√©chiffrer vos sauvegardes. Sauvegardez-la dans un endroit s√ªr.",
		"activate.success.checkbox1": "J'ai sauvegard√© ma cl√© de chiffrement en lieu s√ªr",
		"activate.success.checkbox2": "Je comprends que cette cl√© ne peut pas √™tre r√©cup√©r√©e",
		"activate.success.button":  "Se connecter",

		// Peers management
		"peers.title":              "Gestion des pairs P2P",
		"peers.add":                "Ajouter un pair",
		"peers.add.title":          "Ajouter un nouveau pair",
		"peers.list":               "Liste des pairs",
		"peers.name":               "Nom du pair",
		"peers.name.help":          "Un nom unique pour identifier ce pair (ex: nas-bureau)",
		"peers.address":            "Adresse",
		"peers.address.help":       "Adresse IP ou nom de domaine du pair",
		"peers.port":               "Port",
		"peers.port.help":          "Port HTTPS du pair (8443 par d√©faut)",
		"peers.public_key":         "Cl√© publique",
		"peers.public_key.help":    "Cl√© publique pour le chiffrement (optionnel)",
		"peers.enabled":            "Activer la synchronisation",
		"peers.status":             "Statut",
		"peers.status.online":      "En ligne",
		"peers.status.offline":     "Hors ligne",
		"peers.status.error":       "Erreur",
		"peers.status.unknown":     "Inconnu",
		"peers.last_seen":          "Derni√®re connexion",
		"peers.last_sync":          "Derni√®re synchronisation",
		"peers.created":            "Cr√©√© le",
		"peers.actions":            "Actions",
		"peers.action.test":        "Tester",
		"peers.action.edit":        "Modifier",
		"peers.action.delete":      "Supprimer",
		"peers.delete.confirm":     "√ätes-vous s√ªr de vouloir supprimer ce pair ?",
		"peers.test.success":       "Connexion r√©ussie au pair",
		"peers.test.error":         "Impossible de se connecter au pair",
		"peers.info":               "Les pairs permettent la synchronisation P2P chiffr√©e entre plusieurs instances Anemone.",
		"peers.empty":              "Aucun pair configur√©",
		"peers.empty.help":         "Ajoutez un pair pour activer la synchronisation P2P",

		// Shares
		"shares.title":             "Gestion des partages",
		"shares.list":              "Mes partages",
		"shares.add":               "Cr√©er un partage",
		"shares.add.title":         "Cr√©er un nouveau partage",
		"shares.name":              "Nom du partage",
		"shares.name.help":         "Un nom unique pour ce partage (ex: documents, photos)",
		"shares.path":              "Chemin",
		"shares.protocol":          "Protocole",
		"shares.protocol.smb":      "SMB/CIFS",
		"shares.protocol.nfs":      "NFS",
		"shares.sync_enabled":      "Activer la synchronisation P2P",
		"shares.sync_enabled.help": "Synchroniser ce partage avec les pairs",
		"shares.size":              "Taille",
		"shares.created":           "Cr√©√© le",
		"shares.actions":           "Actions",
		"shares.action.edit":       "Modifier",
		"shares.action.delete":     "Supprimer",
		"shares.delete.confirm":    "√ätes-vous s√ªr de vouloir supprimer ce partage ?",
		"shares.empty":             "Aucun partage",
		"shares.empty.help":        "Cr√©ez un partage pour commencer √† stocker vos fichiers",
		"shares.info":              "Les partages vous permettent d'acc√©der √† vos fichiers via SMB/CIFS depuis votre r√©seau local.",
		"shares.smb_status":        "Statut Samba",
		"shares.smb_active":        "Actif",
		"shares.smb_inactive":      "Inactif",
		"shares.smb_not_installed": "Non install√©",
		"shares.access_path":       "Chemin d'acc√®s r√©seau",
		"shares.access_info":       "Utilisez ce chemin pour vous connecter depuis Windows, macOS ou Linux",

		// Trash page
		"trash.title":              "Corbeille",
		"trash.description":        "Fichiers supprim√©s r√©cemment",
		"trash.card_description":   "R√©cup√©rer vos fichiers supprim√©s",
		"trash.card_description_retention": "R√©cup√©rer vos fichiers supprim√©s (conservation 30 jours)",
		"trash.view_button":        "Voir la corbeille",
		"trash.items":              "√©l√©ments",
		"trash.logout":             "D√©connexion",
		"trash.selected_count":     "fichier(s) s√©lectionn√©(s)",
		"trash.restore_selected":   "Restaurer la s√©lection",
		"trash.delete_selected":    "Supprimer d√©finitivement",
		"trash.deselect_all":       "Tout d√©s√©lectionner",
		"trash.column_file":        "Fichier",
		"trash.column_share":       "Partage",
		"trash.column_size":        "Taille",
		"trash.column_deleted":     "Supprim√© le",
		"trash.column_actions":     "Actions",
		"trash.action_restore":     "Restaurer",
		"trash.action_delete":      "Supprimer",
		"trash.empty_title":        "Corbeille vide",
		"trash.empty_message":      "Aucun fichier supprim√©",
		"trash.confirm_restore":    "Restaurer ce fichier ?",
		"trash.confirm_delete":     "‚ö†Ô∏è ATTENTION: Supprimer d√©finitivement ce fichier ?\n\nCette action est irr√©versible.",
		"trash.confirm_restore_bulk": "Restaurer {count} fichier(s) ?",
		"trash.confirm_delete_bulk": "‚ö†Ô∏è ATTENTION: Supprimer d√©finitivement {count} fichier(s) ?\n\nCette action est irr√©versible.",
		"trash.restored_success":   "‚úÖ Fichier restaur√© avec succ√®s",
		"trash.restored_bulk":      "‚úÖ {success} fichier(s) restaur√©(s)",
		"trash.deleted_bulk":       "‚úÖ {success} fichier(s) supprim√©(s)",
		"trash.failed_bulk":        "\n‚ùå {failed} √©chec(s)",
		"trash.restoring":          "Restauration...",
		"trash.error":              "‚ùå Erreur:",

		// Settings page
		"settings.title":                "Param√®tres",
		"settings.account":              "Compte",
		"settings.language.title":       "Langue",
		"settings.language.description": "Langue d'affichage de l'interface",
		"settings.language.french":      "Fran√ßais",
		"settings.language.english":     "English",
		"settings.language.button":      "Changer la langue",
		"settings.language.success":     "Langue modifi√©e avec succ√®s",
		"settings.password.title":       "Mot de passe",
		"settings.password.description": "Modifier votre mot de passe",
		"settings.password.current":     "Mot de passe actuel",
		"settings.password.new":         "Nouveau mot de passe",
		"settings.password.confirm":     "Confirmer le nouveau mot de passe",
		"settings.password.button":      "Changer le mot de passe",
		"settings.password.success":     "Mot de passe modifi√© avec succ√®s",
		"settings.password.error":       "Erreur lors du changement de mot de passe",
		"settings.password.minlength":   "Minimum 8 caract√®res",
		"settings.password.error.incorrect":       "Mot de passe actuel incorrect",
		"settings.password.error.mismatch":        "Les nouveaux mots de passe ne correspondent pas",
		"settings.password.error.required":        "Tous les champs sont requis",
		"settings.password.error.minlength":       "Le mot de passe doit contenir au moins 8 caract√®res",
		"settings.password.error.failed":          "√âchec du changement de mot de passe",
		"settings.info.title":           "Informations du compte",
		"settings.info.username":        "Nom d'utilisateur",
		"settings.info.email":           "Email",
		"settings.info.created":         "Compte cr√©√© le",

		// Password reset
		"reset.title":                "R√©initialiser le mot de passe",
		"reset.reset_for":            "R√©initialisation pour",
		"reset.new_password":         "Nouveau mot de passe",
		"reset.confirm_password":     "Confirmer le mot de passe",
		"reset.password.help":        "Minimum 8 caract√®res",
		"reset.info":                 "Votre mot de passe sera r√©initialis√©. Vous pourrez vous connecter avec ce nouveau mot de passe.",
		"reset.submit":               "R√©initialiser le mot de passe",
		"reset.back_to_login":        "Retour √† la connexion",
		"reset.token_invalid":        "Lien de r√©initialisation invalide ou expir√©",
		"reset.success":              "Mot de passe r√©initialis√© avec succ√®s",
		"reset.token.title":          "Lien de r√©initialisation g√©n√©r√©",
		"reset.token.for_user":       "Pour l'utilisateur",
		"reset.token.warning":        "Attention : Ce lien est valable 24 heures",
		"reset.token.info":           "Envoyez ce lien √† l'utilisateur pour qu'il puisse r√©initialiser son mot de passe. Le lien expirera automatiquement apr√®s 24 heures.",
		"reset.token.link":           "Lien de r√©initialisation",
		"reset.token.copy":           "Copier",
		"reset.token.copied":         "Copi√© !",
		"reset.token.expires":        "Expire le :",
		"reset.token.user_info":      "Informations utilisateur",
		"reset.token.username":       "Nom d'utilisateur",
		"reset.token.email":          "Email",
		"reset.token.done":           "Retour aux utilisateurs",

		// Users actions
		"users.action.reset_password": "R√©initialiser mot de passe",

		// Common
		"common.submit":            "Envoyer",
		"common.cancel":            "Annuler",
		"common.save":              "Enregistrer",
		"common.delete":            "Supprimer",
		"common.edit":              "Modifier",
		"common.back":              "Retour",
		"common.loading":           "Chargement...",
		"common.error":             "Erreur",
		"common.success":           "Succ√®s",

		// Server Backup Export
		"backup.export.title":                 "Export de la configuration serveur",
		"backup.export.admin_dashboard":       "Tableau de bord admin",
		"backup.export.logout":                "D√©connexion",
		"backup.export.what_exported":         "Ce qui sera export√© :",
		"backup.export.users_keys":            "Tous les comptes utilisateurs et leurs cl√©s de chiffrement",
		"backup.export.shares_config":         "Toute la configuration des partages (SMB, quotas)",
		"backup.export.peers_config":          "Tous les serveurs pairs configur√©s",
		"backup.export.system_config":         "Configuration syst√®me (cl√© master, param√®tres)",
		"backup.export.sync_config":           "Configuration de synchronisation",
		"backup.export.important":             "Important :",
		"backup.export.encrypted":             "La sauvegarde sera chiffr√©e avec votre mot de passe",
		"backup.export.keep_safe":             "Conservez le mot de passe pr√©cieusement - vous en aurez besoin pour restaurer",
		"backup.export.no_files":              "La sauvegarde n'inclut PAS les fichiers utilisateurs, uniquement la configuration",
		"backup.export.store_secure":          "Stockez le fichier de sauvegarde dans un endroit s√©curis√©",
		"backup.export.server_name":           "Nom du serveur",
		"backup.export.optional":              "optionnel",
		"backup.export.server_name_placeholder": "ex: Anemone-DEV",
		"backup.export.server_name_help":      "Un nom descriptif pour identifier cette sauvegarde",
		"backup.export.passphrase":            "Mot de passe de chiffrement",
		"backup.export.passphrase_placeholder": "Mot de passe fort (min 12 caract√®res)",
		"backup.export.passphrase_help":       "Ce mot de passe chiffrera la sauvegarde. Conservez-le pr√©cieusement !",
		"backup.export.passphrase_confirm":    "Confirmer le mot de passe",
		"backup.export.passphrase_confirm_placeholder": "Saisir √† nouveau le mot de passe",
		"backup.export.confirm_checkbox":      "Je comprends que j'ai besoin de ce mot de passe pour restaurer le serveur",
		"backup.export.download_button":       "T√©l√©charger la sauvegarde chiffr√©e",
		"backup.export.restore_instructions":  "Instructions de restauration",
		"backup.export.restore_text":          "Pour restaurer cette sauvegarde sur une installation Anemone vierge :",
		"backup.export.restore_script_note":   "Le script de restauration est inclus dans le d√©p√¥t Anemone",
		"backup.export.alert_mismatch":        "Les mots de passe ne correspondent pas !",
		"backup.export.alert_too_short":       "Le mot de passe doit contenir au moins 12 caract√®res",
		"backup.export.alert_confirm":         "Veuillez confirmer que vous comprenez le processus de sauvegarde",
		"backup.export.alert_ready":           "√ätes-vous pr√™t √† exporter la configuration du serveur ? Assurez-vous de sauvegarder le mot de passe dans un endroit s√ªr.",
	}

	t.translations["en"] = map[string]string{
		// Setup page
		"setup.title":              "Anemone Initial Setup",
		"setup.welcome":            "Welcome to Anemone",
		"setup.description":        "Let's configure your multi-user NAS with P2P encrypted synchronization",
		"setup.language":           "Language",
		"setup.language.fr":        "Fran√ßais",
		"setup.language.en":        "English",
		"setup.nas_name":           "NAS Name",
		"setup.nas_name.help":      "A name to identify this server (e.g., home-nas)",
		"setup.timezone":           "Timezone",
		"setup.timezone.help":      "Used for logs and scheduling",
		"setup.admin.title":        "Create Administrator Account",
		"setup.admin.username":     "Username",
		"setup.admin.password":     "Password",
		"setup.admin.password.help": "Minimum 8 characters",
		"setup.admin.password_confirm": "Confirm Password",
		"setup.admin.email":        "Email (optional)",
		"setup.admin.email.help":   "For notifications (optional)",
		"setup.button":             "Create and Start",
		"setup.button.submit":      "Create and Start",
		"setup.info":               "This setup will only be performed once. Make sure to save your information carefully.",
		"setup.errors.required":    "This field is required",
		"setup.errors.password_mismatch": "Passwords do not match",
		"setup.errors.password_length": "Password must be at least 8 characters",
		"setup.success.title":      "Setup Complete!",
		"setup.success.key":        "Your Encryption Key",
		"setup.success.key_warning": "‚ö†Ô∏è Warning: This key will only be displayed once!",
		"setup.success.key_help":   "Save this key in a safe place. It is required to decrypt your backups.",
		"setup.success.download":   "Download Key",
		"setup.success.sync_password": "P2P Synchronization Password",
		"setup.success.sync_password_help": "This password is used to authenticate peers during synchronization. Copy it to use on your other Anemone servers.",
		"setup.success.sync_password_change": "üí° Important: You must change this password in Settings > Synchronization as soon as possible.",
		"setup.success.checkbox1":  "I have saved my encryption key",
		"setup.success.checkbox2":  "I understand that I cannot recover my data without this key",
		"setup.success.button":     "Go to Dashboard",

		// Login page
		"login.title":              "Anemone Login",
		"login.welcome":            "Welcome",
		"login.username":           "Username",
		"login.password":           "Password",
		"login.button":             "Sign In",
		"login.error":              "Invalid username or password",

		// Dashboard
		"dashboard.title":          "Dashboard",
		"dashboard.welcome":        "Welcome, {{username}}!",
		"dashboard.admin.title":    "Admin Dashboard",
		"dashboard.user.title":     "User Dashboard",
		"dashboard.logout":         "Logout",
		"dashboard.users":          "Users",
		"dashboard.peers":          "Connected Peers",
		"dashboard.storage":        "Storage",
		"dashboard.backup":         "Backups",
		"dashboard.settings":       "Settings",
		"dashboard.stats.users":    "Users",
		"dashboard.stats.storage":  "Storage Used",
		"dashboard.stats.backups":  "Last Backup",
		"dashboard.stats.peers":    "Active Peers",
		"dashboard.support":        "Support the project",
		"dashboard.welcome_admin":  "Welcome",
		"dashboard.users.description": "Manage users and create accounts",
		"dashboard.shares.description": "Manage your SMB/NFS shares",
		"dashboard.shares.button":  "View all shares",
		"dashboard.peers.description": "Manage peers for backup",
		"dashboard.peers.button":   "Manage peers",
		"dashboard.incoming.title": "Connected Peers",
		"dashboard.incoming.description": "View remote servers storing backups on this server",
		"dashboard.incoming.button": "View incoming backups",
		"dashboard.server_settings.title": "Server Settings",
		"dashboard.server_settings.description": "Configure server synchronization password",
		"dashboard.server_settings.button": "Settings",
		"dashboard.server_backup.title": "Server Backup",
		"dashboard.server_backup.description": "Manage automatic server backups (daily backup at 4am)",
		"dashboard.server_backup.button": "Manage backups",

		// Users management
		"users.title":              "User Management",
		"users.add":                "Add User",
		"users.add.title":          "Create New User",
		"users.list":               "User List",
		"users.username":           "Username",
		"users.email":              "Email",
		"users.role":               "Role",
		"users.role.admin":         "Administrator",
		"users.role.user":          "User",
		"users.created":            "Created",
		"users.last_login":         "Last Login",
		"users.status":             "Status",
		"users.status.active":      "Active",
		"users.status.pending":     "Pending",
		"users.actions":            "Actions",
		"users.action.delete":      "Delete",
		"users.action.copy_link":   "Copy Link",
		"users.quota_total":        "Total Quota (GB)",
		"users.quota_backup":       "Backup Quota (GB)",
		"users.quota_data":         "Data Quota (GB)",
		"users.is_admin":           "Administrator",
		"users.quota.title":        "Edit Quotas",
		"users.quota.edit":         "Edit Quotas",
		"users.quota.usage":        "Current Usage",
		"users.quota.used":         "Used",
		"users.quota.available":    "Available",
		"users.quota.update":       "Update",
		"users.quota.success":      "Quotas updated successfully",
		"users.token.title":        "Activation Link Created",
		"users.token.info":         "Send this link to the new user",
		"users.token.warning":      "‚ö†Ô∏è This link expires in 24 hours",
		"users.token.copy":         "Copy Link",
		"users.token.done":         "Done",
		"users.delete.confirm":     "Are you sure you want to delete this user?",
		"users.errors.username_required": "Username is required",
		"users.errors.username_exists": "This username already exists",

		// Activation page
		"activate.title":           "Activate Your Anemone Account",
		"activate.welcome":         "Welcome to Anemone",
		"activate.username":        "Username",
		"activate.set_password":    "Choose Your Password",
		"activate.password":        "Password",
		"activate.password_confirm": "Confirm Password",
		"activate.password.help":   "Minimum 8 characters",
		"activate.button":          "Activate My Account",
		"activate.errors.invalid_token": "This activation link is invalid or has expired",
		"activate.errors.token_used": "This activation link has already been used",
		"activate.errors.password_mismatch": "Passwords do not match",
		"activate.errors.password_length": "Password must be at least 8 characters",
		"activate.success.title":   "Account Successfully Activated!",
		"activate.success.key":     "Your Encryption Key",
		"activate.success.key_warning": "‚ö†Ô∏è IMPORTANT: This key will only be displayed once!",
		"activate.success.key_help": "This key is required to decrypt your backups. Save it in a safe place.",
		"activate.success.checkbox1": "I have saved my encryption key in a safe place",
		"activate.success.checkbox2": "I understand that this key cannot be recovered",
		"activate.success.button":  "Sign In",

		// Peers management
		"peers.title":              "P2P Peers Management",
		"peers.add":                "Add Peer",
		"peers.add.title":          "Add New Peer",
		"peers.list":               "Peer List",
		"peers.name":               "Peer Name",
		"peers.name.help":          "A unique name to identify this peer (e.g., office-nas)",
		"peers.address":            "Address",
		"peers.address.help":       "IP address or hostname of the peer",
		"peers.port":               "Port",
		"peers.port.help":          "HTTPS port of the peer (default 8443)",
		"peers.public_key":         "Public Key",
		"peers.public_key.help":    "Public key for encryption (optional)",
		"peers.enabled":            "Enable Synchronization",
		"peers.status":             "Status",
		"peers.status.online":      "Online",
		"peers.status.offline":     "Offline",
		"peers.status.error":       "Error",
		"peers.status.unknown":     "Unknown",
		"peers.last_seen":          "Last Seen",
		"peers.last_sync":          "Last Sync",
		"peers.created":            "Created",
		"peers.actions":            "Actions",
		"peers.action.test":        "Test",
		"peers.action.edit":        "Edit",
		"peers.action.delete":      "Delete",
		"peers.delete.confirm":     "Are you sure you want to delete this peer?",
		"peers.test.success":       "Successfully connected to peer",
		"peers.test.error":         "Unable to connect to peer",
		"peers.info":               "Peers enable encrypted P2P synchronization between multiple Anemone instances.",
		"peers.empty":              "No peers configured",
		"peers.empty.help":         "Add a peer to enable P2P synchronization",

		// Shares
		"shares.title":             "Shares Management",
		"shares.list":              "My Shares",
		"shares.add":               "Create Share",
		"shares.add.title":         "Create New Share",
		"shares.name":              "Share Name",
		"shares.name.help":         "A unique name for this share (e.g., documents, photos)",
		"shares.path":              "Path",
		"shares.protocol":          "Protocol",
		"shares.protocol.smb":      "SMB/CIFS",
		"shares.protocol.nfs":      "NFS",
		"shares.sync_enabled":      "Enable P2P Sync",
		"shares.sync_enabled.help": "Synchronize this share with peers",
		"shares.size":              "Size",
		"shares.created":           "Created",
		"shares.actions":           "Actions",
		"shares.action.edit":       "Edit",
		"shares.action.delete":     "Delete",
		"shares.delete.confirm":    "Are you sure you want to delete this share?",
		"shares.empty":             "No shares",
		"shares.empty.help":        "Create a share to start storing your files",
		"shares.info":              "Shares allow you to access your files via SMB/CIFS from your local network.",
		"shares.smb_status":        "Samba Status",
		"shares.smb_active":        "Active",
		"shares.smb_inactive":      "Inactive",
		"shares.smb_not_installed": "Not Installed",
		"shares.access_path":       "Network Access Path",
		"shares.access_info":       "Use this path to connect from Windows, macOS or Linux",

		// Trash page
		"trash.title":              "Trash",
		"trash.description":        "Recently deleted files",
		"trash.card_description":   "Recover your deleted files",
		"trash.card_description_retention": "Recover your deleted files (30 days retention)",
		"trash.view_button":        "View trash",
		"trash.items":              "items",
		"trash.logout":             "Logout",
		"trash.selected_count":     "file(s) selected",
		"trash.restore_selected":   "Restore selection",
		"trash.delete_selected":    "Delete permanently",
		"trash.deselect_all":       "Deselect all",
		"trash.column_file":        "File",
		"trash.column_share":       "Share",
		"trash.column_size":        "Size",
		"trash.column_deleted":     "Deleted on",
		"trash.column_actions":     "Actions",
		"trash.action_restore":     "Restore",
		"trash.action_delete":      "Delete",
		"trash.empty_title":        "Trash is empty",
		"trash.empty_message":      "No deleted files",
		"trash.confirm_restore":    "Restore this file?",
		"trash.confirm_delete":     "‚ö†Ô∏è WARNING: Permanently delete this file?\n\nThis action is irreversible.",
		"trash.confirm_restore_bulk": "Restore {count} file(s)?",
		"trash.confirm_delete_bulk": "‚ö†Ô∏è WARNING: Permanently delete {count} file(s)?\n\nThis action is irreversible.",
		"trash.restored_success":   "‚úÖ File restored successfully",
		"trash.restored_bulk":      "‚úÖ {success} file(s) restored",
		"trash.deleted_bulk":       "‚úÖ {success} file(s) deleted",
		"trash.failed_bulk":        "\n‚ùå {failed} failed",
		"trash.restoring":          "Restoring...",
		"trash.error":              "‚ùå Error:",

		// Settings page
		"settings.title":                "Settings",
		"settings.account":              "Account",
		"settings.language.title":       "Language",
		"settings.language.description": "Interface display language",
		"settings.language.french":      "Fran√ßais",
		"settings.language.english":     "English",
		"settings.language.button":      "Change language",
		"settings.language.success":     "Language changed successfully",
		"settings.password.title":       "Password",
		"settings.password.description": "Change your password",
		"settings.password.current":     "Current password",
		"settings.password.new":         "New password",
		"settings.password.confirm":     "Confirm new password",
		"settings.password.button":      "Change password",
		"settings.password.success":     "Password changed successfully",
		"settings.password.error":       "Error changing password",
		"settings.password.minlength":   "Minimum 8 characters",
		"settings.password.error.incorrect":       "Incorrect current password",
		"settings.password.error.mismatch":        "New passwords do not match",
		"settings.password.error.required":        "All fields are required",
		"settings.password.error.minlength":       "Password must be at least 8 characters",
		"settings.password.error.failed":          "Failed to change password",
		"settings.info.title":           "Account information",
		"settings.info.username":        "Username",
		"settings.info.email":           "Email",
		"settings.info.created":         "Account created on",

		// Password reset
		"reset.title":                "Reset Password",
		"reset.reset_for":            "Password reset for",
		"reset.new_password":         "New password",
		"reset.confirm_password":     "Confirm password",
		"reset.password.help":        "Minimum 8 characters",
		"reset.info":                 "Your password will be reset. You will be able to log in with this new password.",
		"reset.submit":               "Reset Password",
		"reset.back_to_login":        "Back to login",
		"reset.token_invalid":        "Invalid or expired reset link",
		"reset.success":              "Password reset successfully",
		"reset.token.title":          "Reset Link Generated",
		"reset.token.for_user":       "For user",
		"reset.token.warning":        "Warning: This link is valid for 24 hours",
		"reset.token.info":           "Send this link to the user so they can reset their password. The link will automatically expire after 24 hours.",
		"reset.token.link":           "Reset link",
		"reset.token.copy":           "Copy",
		"reset.token.copied":         "Copied!",
		"reset.token.expires":        "Expires on:",
		"reset.token.user_info":      "User information",
		"reset.token.username":       "Username",
		"reset.token.email":          "Email",
		"reset.token.done":           "Back to users",

		// Users actions
		"users.action.reset_password": "Reset password",

		// Common
		"common.submit":            "Submit",
		"common.cancel":            "Cancel",
		"common.save":              "Save",
		"common.delete":            "Delete",
		"common.edit":              "Edit",
		"common.back":              "Back",
		"common.loading":           "Loading...",
		"common.error":             "Error",
		"common.success":           "Success",

		// Server Backup Export
		"backup.export.title":                 "Server Backup Export",
		"backup.export.admin_dashboard":       "Admin Dashboard",
		"backup.export.logout":                "Logout",
		"backup.export.what_exported":         "What will be exported:",
		"backup.export.users_keys":            "All user accounts and their encrypted keys",
		"backup.export.shares_config":         "All shares configuration (SMB paths, quotas)",
		"backup.export.peers_config":          "All peer servers configuration",
		"backup.export.system_config":         "System configuration (master key, settings)",
		"backup.export.sync_config":           "Sync configuration and schedules",
		"backup.export.important":             "Important:",
		"backup.export.encrypted":             "The backup will be encrypted with your passphrase",
		"backup.export.keep_safe":             "Keep the passphrase safe - you'll need it to restore",
		"backup.export.no_files":              "The backup does NOT include user files, only configuration",
		"backup.export.store_secure":          "Store the backup file in a secure location",
		"backup.export.server_name":           "Server Name",
		"backup.export.optional":              "optional",
		"backup.export.server_name_placeholder": "e.g., Anemone-DEV",
		"backup.export.server_name_help":      "A descriptive name to identify this backup",
		"backup.export.passphrase":            "Encryption Passphrase",
		"backup.export.passphrase_placeholder": "Strong passphrase (min 12 characters)",
		"backup.export.passphrase_help":       "This passphrase will encrypt the backup. Keep it safe!",
		"backup.export.passphrase_confirm":    "Confirm Passphrase",
		"backup.export.passphrase_confirm_placeholder": "Re-enter the same passphrase",
		"backup.export.confirm_checkbox":      "I understand that I need this passphrase to restore the server",
		"backup.export.download_button":       "Download Encrypted Backup",
		"backup.export.restore_instructions":  "Restore Instructions",
		"backup.export.restore_text":          "To restore this backup on a fresh Anemone installation:",
		"backup.export.restore_script_note":   "The restore script is included in the Anemone repository",
		"backup.export.alert_mismatch":        "Passphrases do not match!",
		"backup.export.alert_too_short":       "Passphrase must be at least 12 characters long",
		"backup.export.alert_confirm":         "Please confirm that you understand the backup process",
		"backup.export.alert_ready":           "Are you ready to export the server configuration? Make sure to save the passphrase in a safe place.",
	}

	return nil
}

// GetAvailableLanguages returns list of available languages
func GetAvailableLanguages() []Language {
	return []Language{
		{Code: "fr", Name: "Fran√ßais"},
		{Code: "en", Name: "English"},
	}
}

// Language represents an available language
type Language struct {
	Code string
	Name string
}
